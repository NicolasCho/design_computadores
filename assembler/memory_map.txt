LDI RegA $0
STA RegA @288
STA RegA @289
STA RegA @290
STA RegA @291
STA RegA @292
STA RegA @293
STA RegA @256
STA RegA @257
STA RegA @258
STA RegA @0
STA RegA @1
STA RegA @2
STA RegA @3
STA RegA @4
STA RegA @5
STA RegA @6
STA RegA @511
STA RegA @510
LDI RegA $1
STA RegA @14

LDI RegA $10
STA RegA @15

LDI RegA $0
STA RegA @16

LDI RegA $20
STA RegA @8
STA RegA @9
STA RegA @10
STA RegA @11
STA RegA @12
STA RegA @13
FIM-DO-SETUP

MAIN

JSR ESCREVE-HEX

LDA RegA @353
ANDOP @14
CEQ RegA @6
JEQ PASS-CONFIG
JSR CONFIG-LIMITE
PASS-CONFIG

JSR LIMITE-DE-CONTAGEM

LDA RegA @352
ANDOP @14
CEQ RegA @6
JEQ PASS-INCREMENTA
JSR INCREMENTA-VALOR
PASS-INCREMENTA

LDA RegA @356
ANDOP @14
CEQ RegA @6
JEQ PASS-RENICIAR
JSR RENICIAR-CONT
PASS-RENICIAR

JMP MAIN


ESCREVE-HEX
LDA RegC @0
STA RegC @288
NOP
LDA RegC @1
STA RegC @289
NOP
LDA RegC @2
STA RegC @290
NOP
LDA RegC @3
STA RegC @291
NOP
LDA RegC @4
STA RegC @292
NOP
LDA RegC @5
STA RegC @293
RET


INCREMENTA-VALOR
STA RegA @511
LDA RegA @16
CEQ RegA @14
JEQ VOLTA-VALOR

LDA RegA @0
SOMA RegA @14
STA RegA @0
CEQ RegA @15
JEQ INC-DEZENA
NOP
RET

INC-DEZENA
LDI RegA $0
STA RegA @0
LDA RegA @1
SOMA RegA @14
STA RegA @1
CEQ RegA @15
JEQ INC-CENTENA
NOP
RET

INC-CENTENA
LDI RegA $0
STA RegA @1
LDA RegA @2
SOMA RegA @14
STA RegA @2
CEQ RegA @15
JEQ INC-UNIDADE-MILHAR
NOP
RET

INC-UNIDADE-MILHAR
LDI RegA $0
STA RegA @2
LDA RegA @3
SOMA RegA @14
STA RegA @3
CEQ RegA @15
JEQ INC-DEZENA-MILHAR
NOP
RET

INC-DEZENA-MILHAR
LDI RegA $0
STA RegA @3
LDA RegA @4
SOMA RegA @14
STA RegA @4
CEQ RegA @15
JEQ INC-CENTENA-MILHAR
NOP
RET

INC-CENTENA-MILHAR
LDI RegA $0
STA RegA @4
LDA RegA @5
SOMA RegA @14
STA RegA @5
CEQ RegA @15
JEQ ZERO
NOP
RET

ZERO
LDI RegA $0
STA RegA @2

LDI RegA $1
STA RegA @258
STA RegA @16


VOLTA-VALOR
RET


CONFIG-LIMITE
STA RegA @510

LDI RegA $1
STA RegA @257
STA RegA @258

DEFINE-UNIDADE
LDI RegA $1
STA RegA @256
LDA RegA @320
STA RegA @8

LDA RegA @353
ANDOP @14
CEQ RegA @6
JEQ DEFINE-UNIDADE

LDI RegA $0
STA RegA @256
STA RegA @510

DEFINE-DEZENA
LDI RegA $2
STA RegA @256
LDA RegA @320
STA RegA @9

LDA RegA @353
ANDOP @14
CEQ RegA @6
JEQ DEFINE-DEZENA

LDI RegA $0
STA RegA @256
STA RegA @510

DEFINE-CENTENA
LDI RegA $4
STA RegA @256
LDA RegA @320
STA RegA @10

LDA RegA @353
ANDOP @14
CEQ RegA @6
JEQ DEFINE-CENTENA

LDI RegA $0
STA RegA @256
STA RegA @510

DEFINE-UNIDADE-MILHAR
LDI RegA $8
STA RegA @256
LDA RegA @320
STA RegA @11

LDA RegA @353
ANDOP @14
CEQ RegA @6
JEQ DEFINE-UNIDADE-MILHAR

LDI RegA $0
STA RegA @256
STA RegA @510

DEFINE-DEZENA-MILHAR
LDI RegA $16
STA RegA @256
LDA RegA @320
STA RegA @12

LDA RegA @353
ANDOP @14
CEQ RegA @6
JEQ DEFINE-DEZENA-MILHAR

LDI RegA $0
STA RegA @256
STA RegA @510

DEFINE-CENTENA-MILHAR
LDI RegA $32
STA RegA @256
LDA RegA @320
STA RegA @13

LDA RegA @353
ANDOP @14
CEQ RegA @6
JEQ DEFINE-CENTENA-MILHAR

LDI RegA $0
STA RegA @256
STA RegA @510

STA RegA @257
STA RegA @258
JMP MAIN

LIMITE-DE-CONTAGEM

LDA RegB @5
CEQ RegB @13
JEQ PROX--DEZENA-MILHAR
LDI RegB $0
STA RegB @16
RET

PROX--DEZENA-MILHAR
LDA RegB @4
CEQ RegB @12
JEQ PROX--UNIDADE-MILHAR
LDI RegB $0
STA RegB @16
RET

PROX--UNIDADE-MILHAR
LDA RegB @3
CEQ RegB @11
JEQ PROX--CENTENA
LDI RegB $0
STA RegB @16
RET

PROX--CENTENA
LDA RegB @2
CEQ RegB @10
JEQ PROX--DEZENA
LDI RegB $0
STA RegB @16
RET

PROX--DEZENA
LDA RegB @1
CEQ RegB @9
JEQ PROX--UNIDADE
LDI RegB $0
STA RegB @16
RET

PROX--UNIDADE
LDA RegB @0
CEQ RegB @8
JEQ PROX--NADA
LDI RegB $0
STA RegB @16
RET

PROX--NADA
LDI RegB $1
STA RegB @16
STA RegB @257
RET

RENICIAR-CONT
STA RegA @508
LDI RegA $0
STA RegA @0
STA RegA @1
STA RegA @2
STA RegA @3
STA RegA @4
STA RegA @5
STA RegA @16
STA RegA @257
STA RegA @258
STA RegA @256

RET
