MAIN

CEQ RegC @6
JEQ FLAG-ALARME

CEQ RegD @6
JEQ FLAG-RELOGIO


LDA RegA KEY0
ANDOP @14
CEQ RegA @6 
JEQ PASS-ALARME
LDI RegC $1
JSR CONFIG
PASS-ALARME

LDA RegA KEY1
ANDOP @14
CEQ RegA @6 
JEQ PASS-CONFIG
LDI RegB $1
JSR CONFIG
PASS-CONFIG

JSR CHECA-ALARME

JSR LIMITE-DE-CONTAGEM

JSR INCREMENTA-VALOR

LDA RegA @16
CEQ RegA @6 ; A == 0
JEQ PASS-RENICIAR
JSR RENICIAR-CONT
PASS-RENICIAR

JSR ESCREVE-HEX

JMP MAIN

FLAG-ALARME
LDI RegC $0

LDA RegA @24
STA RegA @18

LDA RegA @25
STA RegA @19

LDA RegA @26
STA RegA @20

LDA RegA @27
STA RegA @21

LDA RegA @28
STA RegA @22

LDA RegA @29
STA RegA @23

JMP MAIN

FLAG-RELOGIO
LDI RegD $0

LDA RegA @24
STA RegA @0

LDA RegA @25
STA RegA @1

LDA RegA @26
STA RegA @2

LDA RegA @27
STA RegA @3

LDA RegA @28
STA RegA @4

LDA RegA @29
STA RegA @5

JMP MAIN